# 모듈화와 npm(node package manager)
- 모듈화가 진행이 되려면 파일 스코프를 가져야 한다.
- 내가 만든 파일 스코프 내에서 내가 공개할 것과 공개하지 않을 것을 선택할 수 있어야 함.
- 파일 스코프를 가지고 있다는건 기본적으로 공개하지 않겠다는 의미.
- 자바 스크립트에서는 최근 새로운 문법에서 module을 지원하기는 하지만 지원하지 않는 브라우저가 많아 아직 사용하기에는 시기상조이다.
- 많은 js 파일들을 번들링을 통해서 하나의 파일로 만드는 과정을 거치면 한 파일로 사용할 수 있다. 이를 위해서 웹팩을 사용한다. 웹팩을 사용하면 화이트 스페이스 등 불필요한 부분을 제거해 부피를 크게 줄여준다. 가장 일반적인 환경은 Babel과 webpack을 가지고 있는 것.
- Node.js는 CommonJS(동기방식) 기준으로 만듦.
- npm은 CLI를 제공과 동시에 package의 저장기능까지 제공하고 있다.
- npm init -y를 폴더 안에 설치하면 이 폴더 안에서만 사용할 수 있는 로컬 설치가 된다.
- npm init -y를 통해서 나온 package.json 안에 dependencies로 들어가 있는 부분들 덕분에 npm install만 해도 리스트에 있는 패키지가 모두 설치된다.
- -g를 사용하면 전역에 설치된다.
- babel은 개발환경 이외에는 필요없다.(개봘환경에서 할 일을 다 하기 때문.) 이렇게 개발환경에서만 필요한 패키지들을 --save-dev를 사용해서 설치하면 설치 환경에서만 필요한 것들로 인식한다.
- 보통 dependencies에 저장된 ^(캐럿)이 존재하는 버전은 메이저 업데이트가 아닌 마이너 업데이트, 패치중 최신으로 설치해준다. (메이저 버전이 바뀐다는 것은 브레이크 체인지가 생긴다는 의미이므로 많은 것들이 달라질 수 있기에 조심해야 한다.)
  - ^(캐럿)을 제외하고 쓰면 버전을 동결한다.
- script에 동작을 위한 CLI 명령어를 넣어줄 수 있다.

# BABEL과 Webpack
- BABEL은 transfiling 기능을 통해서 하위 브라우저에서 호환이 가능한 코드로 바꿔준다.
- build 명령어 뒤에 -w가 들어가있으면 src/js에서 변화가 있으면 바로 dist/js로 변화를 감지해 옮겨준다. 하지만 -w가 없다면 변화가 생길 때마다 run build를 계속 해줘야한다.

# Webpack
- angular에서 컴포넌트는 html, css, javascript가 전부 하나이다.
- 이 때부터는 Webpack에 build를 시키면 webpack이 babel을 통해서 받아와야 한다.
- promise, object.assign, array.from 등등은 대체제가 없으므로 그대로 둔다. 그러므로 이들은 구형 브라우저에서 작동할 수 없다. 이를 해결하기 위해서 폴리필이 필요하다.
- 폴리필은 새로운 문법을 구형 브라우저에서 비슷하게 동작할 수 있도록 도와주는 기능이다.
- 하지만 폴리필을 모두 추가하면 용량이 커지므로 필요한 폴리필만 골라내는 작업이 필요한데 이를 트리 셰이킹(tree shaking)이라고 부른다.
- 폴리필은 -dev 대상이 아닌, 나중에 같이 돌아야 하는 소스 코드이다.